<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Canvas App - Stub</title>

		<!-- mobile viewport: -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<!-- Libraries -->
		<script src="../lib/dat.gui.min.js"></script>

		<!-- Core JS methods -->
		<script src="../src/Utilities.js"></script>

		<script>

			// GLOBALS
			var canvas, c;

			// STAGE - for canvas drawing
			var stage;

			var guiData = {fontSize:10};
			var gui; 

			
			window.onload = function () {

				init();

				gui = new dat.GUI();
				gui.add(guiData,'fontSize',1,200).onChange(update);

			}

			function init(){
				
				canvas = document.getElementById('myCanvas');
				c = canvas.getContext('2d');

				// full-size canvas
				canvas.width = document.body.clientWidth;
				canvas.height = document.body.clientHeight;

				update();
			}

			function update(){

				c.clearRect(0,0,canvas.width,canvas.height);

/*
				c.font         = guiData.fontSize+'px DOS_2';
				c.fillStyle = 'orangered';
				c.textBaseline = 'top';
				var phrase = 'Keyboard Cat is the dope diggy bro it is like cameo is winning bruv and that is so funny innit';
				var words = phrase.split(' ');
				var lines = [];
				lines.push(words.shift());
				while(words.length > 0){
					var word = words.shift();
					var i = lines.length-1;
					var newline = lines[i]+' '+word;
					if(c.measureText(newline).width < 1024){
						lines[i] = newline;
					}else{
						lines.push(word);
					}
				}

				var leading = 1.2*guiData.fontSize;

				for(var i=0;i<lines.length;i++){
					c.fillText  (lines[i], 20, 240+leading*i);
				}

				c.strokeStyle = "#000";
				c.strokeRect(20,240,1024,leading*i);
*/

				c.fillStyle = 'orangered';
				c.textBaseline = 'top';
				var phrase = 'Keyboard Cat is the dope diggy bro it is like cameo is winning bruv and that is so funny innit';

				var p_height = c.fillParagraph(phrase,guiData.fontSize,"DOS_2",20,240,1024);

				c.strokeStyle = "#000";
				c.strokeRect(20,240,1024,p_height);
			}


		</script>

		<script>
    		function BlockElasticScroll(event) {
        		event.preventDefault();
    		}
    	</script>
		
		<style type="text/css" media="screen">
			html {
				 height: 100%;
				 overflow: hidden;
			}
			
			body {
				margin:  0px;
				padding: 0px;
				height: 100%;
			}

			.example {
				margin-bottom: 20px;
			}

			@font-face {
			    font-family: 'DOS_2';
			    src: url('../assets/font/DOS_2.ttf');
			}

			span {

				font-family: 'DOS_2';

			}
		</style>
		
	</head>
	<body ontouchmove="BlockElasticScroll(event);">
		<span>Text here</span>
		<canvas id="myCanvas" width="100" height="100">
			Your browser doesn't include support for the canvas tag.
		</canvas>

	</body>
</html>
		